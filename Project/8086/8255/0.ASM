A 	EQU 0640H
B 	EQU 0642H
C 	EQU 0644H
CTR EQU 0646H

SSTACK SEGMENT STACK
DW 32 DUP(?)
SSTACK ENDS

CODE SEGMENT
ASSUME CS:CODE
START:	MOV DX,CTR			
		MOV AL,80H		;初始化8255:ABC方式0，输出
		OUT DX,AL

		MOV DX,A
		MOV AL,01H
		OUT DX,AL		;点亮L0
		
		MOV BL,AL
		
		MOV DX,B
		MOV AL,80H		;点亮L15
		OUT DX,AL
		
		MOV BH,AL
NEXT:	
		CALL DELAY
		MOV DX,A
		ROL BL,1
		MOV AL,BL
		OUT DX,AL
		
		MOV DX,B
		ROR BH,1
		MOV AL,BH
		OUT DX,AL
		
		JMP NEXT
		
DELAY	PROC
		PUSH SI
		PUSH CX
		MOV SI,00FFH
D11:	MOV CX,00FFH
D22:	LOOP D22
		DEC SI
		JNZ D11					;延时结束
		POP CX
		POP SI
		RET
DELAY ENDP
CODE ENDS
END START